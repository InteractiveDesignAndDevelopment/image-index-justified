var _Mathmin=Math.min,_Mathabs=Math.abs,_Mathmax=Math.max,_MathPI=Math.PI,_Mathround=Math.round;(function(c){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=c();else if("function"==typeof define&&define.amd)define([],c);else{var E;E="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,E.photoswiper=c()}})(function(){var c;return function _(C,A,S){function T(F,L){if(!A[F]){if(!C[F]){var R="function"==typeof require&&require;if(!L&&R)return R(F,!0);if(D)return D(F,!0);var P=new Error("Cannot find module '"+F+"'");throw P.code="MODULE_NOT_FOUND",P}var M=A[F]={exports:{}};C[F][0].call(M.exports,function(N){var Z=C[F][1][N];return T(Z?Z:N)},M,M.exports,_,C,A,S)}return A[F].exports}for(var D="function"==typeof require&&require,O=0;O<S.length;O++)T(S[O]);return T}({1:[function(_,C,A){"use strict";var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};(function(T,D){"function"==typeof c&&c.amd?c(D):"object"===("undefined"==typeof A?"undefined":S(A))?C.exports=D():T.PhotoSwipeUI_Default=D()})(void 0,function(){"use strict";return function(O,F){var L=this,R=!1,P=!0,M,N,Z,z,K,U,B,H=!0,W,q,Y,G,j,V,X,Q,$={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(_e,Ce){return _e.title?(Ce.children[0].innerHTML=_e.title,!0):(Ce.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return O.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return O.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},J,te=function(_e){if(J)return!0;_e=_e||window.event,Q.timeToIdle&&Q.mouseUsed&&!q&&me();for(var ke,Se,Ce=_e.target||_e.srcElement,Ae=Ce.getAttribute("class")||"",Te=0;Te<ve.length;Te++)ke=ve[Te],ke.onTap&&-1<Ae.indexOf("pswp__"+ke.name)&&(ke.onTap(),Se=!0);if(Se){_e.stopPropagation&&_e.stopPropagation(),J=!0;var De=F.features.isOldAndroid?600:30;setTimeout(function(){J=!1},De)}},ae=function(){return!O.likelyTouchDevice||Q.mouseUsed||screen.width>Q.fitControlsWidth},ne=function(_e,Ce,ke){F[(ke?"add":"remove")+"Class"](_e,"pswp__"+Ce)},oe=function(){var _e=1===Q.getNumItemsFn();_e!==X&&(ne(N,"ui--one-slide",_e),X=_e)},ie=function(){ne(B,"share-modal--hidden",H)},le=function(){return H=!H,H?(F.removeClass(B,"pswp__share-modal--fade-in"),setTimeout(function(){H&&ie()},300)):(ie(),setTimeout(function(){H||F.addClass(B,"pswp__share-modal--fade-in")},30)),H||se(),!1},re=function(_e){_e=_e||window.event;var Ce=_e.target||_e.srcElement;return(O.shout("shareLinkClick",_e,Ce),!!Ce.href)&&(!!Ce.hasAttribute("download")||(window.open(Ce.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?_Mathround(screen.width/2-275):100)),H||le(),!1))},se=function(){for(var Ce,ke,Ae,Se,Te,_e="",De=0;De<Q.shareButtons.length;De++)Ce=Q.shareButtons[De],Ae=Q.getImageURLForShare(Ce),Se=Q.getPageURLForShare(Ce),Te=Q.getTextForShare(Ce),ke=Ce.url.replace("{{url}}",encodeURIComponent(Se)).replace("{{image_url}}",encodeURIComponent(Ae)).replace("{{raw_image_url}}",Ae).replace("{{text}}",encodeURIComponent(Te)),_e+="<a href=\""+ke+"\" target=\"_blank\" class=\"pswp__share--"+Ce.id+"\""+(Ce.download?"download":"")+">"+Ce.label+"</a>",Q.parseShareButtonOut&&(_e=Q.parseShareButtonOut(Ce,_e));B.children[0].innerHTML=_e,B.children[0].onclick=re},de=function(_e){for(var Ce=0;Ce<Q.closeElClasses.length;Ce++)if(F.hasClass(_e,"pswp__"+Q.closeElClasses[Ce]))return!0},ue,pe,ce=0,me=function(){clearTimeout(pe),ce=0,q&&L.setIdle(!1)},fe=function(_e){_e=_e?_e:window.event;var Ce=_e.relatedTarget||_e.toElement;Ce&&"HTML"!==Ce.nodeName||(clearTimeout(pe),pe=setTimeout(function(){L.setIdle(!0)},Q.timeToIdleOutside))},ge=function(){Q.fullscreenEl&&!F.features.isOldAndroid&&(!M&&(M=L.getFullscreenAPI()),M?(F.bind(document,M.eventK,L.updateFullscreen),L.updateFullscreen(),F.addClass(O.template,"pswp--supports-fs")):F.removeClass(O.template,"pswp--supports-fs"))},xe=function(){Q.preloaderEl&&(he(!0),Y("beforeChange",function(){clearTimeout(V),V=setTimeout(function(){O.currItem&&O.currItem.loading?(!O.allowProgressiveImg()||O.currItem.img&&!O.currItem.img.naturalWidth)&&he(!1):he(!0)},Q.loadingIndicatorDelay)}),Y("imageLoadComplete",function(_e,Ce){O.currItem===Ce&&he(!0)}))},he=function(_e){j!==_e&&(ne(G,"preloader--active",!_e),j=_e)},ye=function(_e){var Ce=_e.vGap;if(ae()){var ke=Q.barsSize;if(!(Q.captionEl&&"auto"===ke.bottom))Ce.bottom="auto"===ke.bottom?0:ke.bottom;else if(z||(z=F.createEl("pswp__caption pswp__caption--fake"),z.appendChild(F.createEl("pswp__caption__center")),N.insertBefore(z,Z),F.addClass(N,"pswp__ui--fit")),Q.addCaptionHTMLFn(_e,z,!0)){var Ae=z.clientHeight;Ce.bottom=parseInt(Ae,10)||44}else Ce.bottom=ke.top;Ce.top=ke.top}else Ce.top=Ce.bottom=0},be=function(){Q.timeToIdle&&Y("mouseUsed",function(){F.bind(document,"mousemove",me),F.bind(document,"mouseout",fe),ue=setInterval(function(){ce++,2==ce&&L.setIdle(!0)},Q.timeToIdle/2)})},we=function(){Y("onVerticalDrag",function(Ce){P&&0.95>Ce?L.hideControls():!P&&0.95<=Ce&&L.showControls()});var _e;Y("onPinchClose",function(Ce){P&&0.9>Ce?(L.hideControls(),_e=!0):_e&&!P&&0.9<Ce&&L.showControls()}),Y("zoomGestureEnded",function(){_e=!1,_e&&!P&&L.showControls()})},ve=[{name:"caption",option:"captionEl",onInit:function(_e){Z=_e}},{name:"share-modal",option:"shareEl",onInit:function(_e){B=_e},onTap:function(){le()}},{name:"button--share",option:"shareEl",onInit:function(_e){U=_e},onTap:function(){le()}},{name:"button--zoom",option:"zoomEl",onTap:O.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(_e){K=_e}},{name:"button--close",option:"closeEl",onTap:O.close},{name:"button--arrow--left",option:"arrowEl",onTap:O.prev},{name:"button--arrow--right",option:"arrowEl",onTap:O.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){M.isFullscreen()?M.exit():M.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(_e){G=_e}}],Ee=function(){var _e,Ce,ke,Ae=function(De){if(De)for(var Oe=De.length,Fe=0;Fe<Oe;Fe++){_e=De[Fe],Ce=_e.className;for(var Le=0;Le<ve.length;Le++)ke=ve[Le],-1<Ce.indexOf("pswp__"+ke.name)&&(Q[ke.option]?(F.removeClass(_e,"pswp__element--disabled"),ke.onInit&&ke.onInit(_e)):F.addClass(_e,"pswp__element--disabled"))}};Ae(N.children);var Se=F.getChildByClass(N,"pswp__top-bar");Se&&Ae(Se.children)};L.init=function(){F.extend(O.options,$,!0),Q=O.options,N=F.getChildByClass(O.scrollWrap,"pswp__ui"),Y=O.listen,we(),Y("beforeChange",L.update),Y("doubleTap",function(Ie){var _e=O.currItem.initialZoomLevel;O.getZoomLevel()===_e?O.zoomTo(Q.getDoubleTapZoom(!1,O.currItem),Ie,333):O.zoomTo(_e,Ie,333)}),Y("preventDragEvent",function(Ie,_e,Ce){var ke=Ie.target||Ie.srcElement;ke&&ke.getAttribute("class")&&-1<Ie.type.indexOf("mouse")&&(0<ke.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(ke.tagName))&&(Ce.prevent=!1)}),Y("bindEvents",function(){F.bind(N,"pswpTap click",te),F.bind(O.scrollWrap,"pswpTap",L.onGlobalTap),O.likelyTouchDevice||F.bind(O.scrollWrap,"mouseover",L.onMouseOver)}),Y("unbindEvents",function(){H||le(),ue&&clearInterval(ue),F.unbind(document,"mouseout",fe),F.unbind(document,"mousemove",me),F.unbind(N,"pswpTap click",te),F.unbind(O.scrollWrap,"pswpTap",L.onGlobalTap),F.unbind(O.scrollWrap,"mouseover",L.onMouseOver),M&&(F.unbind(document,M.eventK,L.updateFullscreen),M.isFullscreen()&&(Q.hideAnimationDuration=0,M.exit()),M=null)}),Y("destroy",function(){Q.captionEl&&(z&&N.removeChild(z),F.removeClass(Z,"pswp__caption--empty")),B&&(B.children[0].onclick=null),F.removeClass(N,"pswp__ui--over-close"),F.addClass(N,"pswp__ui--hidden"),L.setIdle(!1)}),Q.showAnimationDuration||F.removeClass(N,"pswp__ui--hidden"),Y("initialZoomIn",function(){Q.showAnimationDuration&&F.removeClass(N,"pswp__ui--hidden")}),Y("initialZoomOut",function(){F.addClass(N,"pswp__ui--hidden")}),Y("parseVerticalMargin",ye),Ee(),Q.shareEl&&U&&B&&(H=!0),oe(),be(),ge(),xe()},L.setIdle=function(Ie){q=Ie,ne(N,"ui--idle",Ie)},L.update=function(){P&&O.currItem?(L.updateIndexIndicator(),Q.captionEl&&(Q.addCaptionHTMLFn(O.currItem,Z),ne(Z,"caption--empty",!O.currItem.title)),R=!0):R=!1,H||le(),oe()},L.updateFullscreen=function(Ie){Ie&&setTimeout(function(){O.setScrollOffset(0,F.getScrollY())},50),F[(M.isFullscreen()?"add":"remove")+"Class"](O.template,"pswp--fs")},L.updateIndexIndicator=function(){Q.counterEl&&(K.innerHTML=O.getCurrentIndex()+1+Q.indexIndicatorSep+Q.getNumItemsFn())},L.onGlobalTap=function(Ie){Ie=Ie||window.event;var _e=Ie.target||Ie.srcElement;if(!J)if(Ie.detail&&"mouse"===Ie.detail.pointerType){if(de(_e))return void O.close();F.hasClass(_e,"pswp__img")&&(1===O.getZoomLevel()&&O.getZoomLevel()<=O.currItem.fitRatio?Q.clickToCloseNonZoomable&&O.close():O.toggleDesktopZoom(Ie.detail.releasePoint))}else if(Q.tapToToggleControls&&(P?L.hideControls():L.showControls()),Q.tapToClose&&(F.hasClass(_e,"pswp__img")||de(_e)))return void O.close()},L.onMouseOver=function(Ie){Ie=Ie||window.event;var _e=Ie.target||Ie.srcElement;ne(N,"ui--over-close",de(_e))},L.hideControls=function(){F.addClass(N,"pswp__ui--hidden"),P=!1},L.showControls=function(){P=!0,R||L.update(),F.removeClass(N,"pswp__ui--hidden")},L.supportsFullscreen=function(){var Ie=document;return!!(Ie.exitFullscreen||Ie.mozCancelFullScreen||Ie.webkitExitFullscreen||Ie.msExitFullscreen)},L.getFullscreenAPI=function(){var _e,Ie=document.documentElement,Ce="fullscreenchange";return Ie.requestFullscreen?_e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:Ce}:Ie.mozRequestFullScreen?_e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+Ce}:Ie.webkitRequestFullscreen?_e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+Ce}:Ie.msRequestFullscreen&&(_e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),_e&&(_e.enter=function(){return W=Q.closeOnScroll,Q.closeOnScroll=!1,"webkitRequestFullscreen"===this.enterK?void O.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT):O.template[this.enterK]()},_e.exit=function(){return Q.closeOnScroll=W,document[this.exitK]()},_e.isFullscreen=function(){return document[this.elementK]}),_e}}})},{}],2:[function(_,C,A){(function(S,T){"function"==typeof c&&c.amd?c(T):"object"==typeof A?C.exports=T():S.PhotoSwipe=T()})(this,function(){"use strict";return function(T,D,O,F){var L={features:null,bind:function(cn,mn,gn,xn){var hn=(xn?"remove":"add")+"EventListener";mn=mn.split(" ");for(var yn=0;yn<mn.length;yn++)mn[yn]&&cn[hn](mn[yn],gn,!1)},isArray:function(cn){return cn instanceof Array},createEl:function(cn,mn){var gn=document.createElement(mn||"div");return cn&&(gn.className=cn),gn},getScrollY:function(){var cn=window.pageYOffset;return cn===void 0?document.documentElement.scrollTop:cn},unbind:function(cn,mn,gn){L.bind(cn,mn,gn,!0)},removeClass:function(cn,mn){var gn=new RegExp("(\\s|^)"+mn+"(\\s|$)");cn.className=cn.className.replace(gn," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(cn,mn){L.hasClass(cn,mn)||(cn.className+=(cn.className?" ":"")+mn)},hasClass:function(cn,mn){return cn.className&&new RegExp("(^|\\s)"+mn+"(\\s|$)").test(cn.className)},getChildByClass:function(cn,mn){for(var gn=cn.firstChild;gn;){if(L.hasClass(gn,mn))return gn;gn=gn.nextSibling}},arraySearch:function(cn,mn,gn){for(var xn=cn.length;xn--;)if(cn[xn][gn]===mn)return xn;return-1},extend:function(cn,mn,gn){for(var xn in mn)if(mn.hasOwnProperty(xn)){if(gn&&cn.hasOwnProperty(xn))continue;cn[xn]=mn[xn]}},easing:{sine:{out:function(cn){return Math.sin(cn*(_MathPI/2))},inOut:function(cn){return-(Math.cos(_MathPI*cn)-1)/2}},cubic:{out:function(cn){return--cn*cn*cn+1}}},detectFeatures:function(){if(L.features)return L.features;var cn=L.createEl(),mn=cn.style,gn="",xn={};if(xn.oldIE=document.all&&!document.addEventListener,xn.touch="ontouchstart"in window,window.requestAnimationFrame&&(xn.raf=window.requestAnimationFrame,xn.caf=window.cancelAnimationFrame),xn.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!xn.pointerEvent){var hn=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var yn=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);yn&&0<yn.length&&(yn=parseInt(yn[1],10),1<=yn&&8>yn&&(xn.isOldIOSPhone=!0))}var bn=hn.match(/Android\s([0-9\.]*)/),wn=bn?bn[1]:0;wn=parseFloat(wn),1<=wn&&(4.4>wn&&(xn.isOldAndroid=!0),xn.androidVersion=wn),xn.isMobileOpera=/opera mini|opera mobi/i.test(hn)}for(var In,_n,vn=["transform","perspective","animationName"],En=["","webkit","Moz","ms","O"],Cn=0;4>Cn;Cn++){gn=En[Cn];for(var kn=0;3>kn;kn++)In=vn[kn],_n=gn+(gn?In.charAt(0).toUpperCase()+In.slice(1):In),!xn[In]&&_n in mn&&(xn[In]=_n);gn&&!xn.raf&&(gn=gn.toLowerCase(),xn.raf=window[gn+"RequestAnimationFrame"],xn.raf&&(xn.caf=window[gn+"CancelAnimationFrame"]||window[gn+"CancelRequestAnimationFrame"]))}if(!xn.raf){var An=0;xn.raf=function(Sn){var Tn=new Date().getTime(),Dn=_Mathmax(0,16-(Tn-An)),On=window.setTimeout(function(){Sn(Tn+Dn)},Dn);return An=Tn+Dn,On},xn.caf=function(Sn){clearTimeout(Sn)}}return xn.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,L.features=xn,xn}};L.detectFeatures(),L.features.oldIE&&(L.bind=function(cn,mn,gn,xn){mn=mn.split(" ");for(var yn,hn=(xn?"detach":"attach")+"Event",bn=function(){gn.handleEvent.call(gn)},wn=0;wn<mn.length;wn++)if(yn=mn[wn],yn)if("object"==typeof gn&&gn.handleEvent){if(!xn)gn["oldIE"+yn]=bn;else if(!gn["oldIE"+yn])return!1;cn[hn]("on"+yn,gn["oldIE"+yn])}else cn[hn]("on"+yn,gn)});var R=this,P=25,M=3,N={allowPanToNext:!0,spacing:0.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:0.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:0.35,panEndFriction:0.35,isClickableElement:function(cn){return"A"===cn.tagName},getDoubleTapZoom:function(cn,mn){return cn?1:0.7>mn.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};L.extend(N,F);var Z=function(){return{x:0,y:0}},z,K,U,B,H,W,q=Z(),Y=Z(),G=Z(),j,V,X,Q={},$,J,ee,te,ae,ne,oe=0,ie={},le=Z(),re,se,de=0,ue,pe,ce,me,fe,ge,xe=!0,he,ye=[],be,we,ve,Ee,Ie,_e,Ce,ke={},Ae=!1,Se,Te=function(cn,mn){L.extend(R,mn.publicMethods),ye.push(cn)},De=function(cn){var mn=Ra();if(cn>mn-1)return cn-mn;return 0>cn?mn+cn:cn},Oe={},Fe=function(cn,mn){return Oe[cn]||(Oe[cn]=[]),Oe[cn].push(mn)},Le=function(cn){var mn=Oe[cn];if(mn){var gn=Array.prototype.slice.call(arguments);gn.shift();for(var xn=0;xn<mn.length;xn++)mn[xn].apply(R,gn)}},Re=function(){return new Date().getTime()},Pe=function(cn){jt=cn,R.bg.style.opacity=cn*N.bgOpacity},Me=function(cn,mn,gn,xn,hn){(!Ae||hn&&hn!==R.currItem)&&(xn/=hn?hn.fitRatio:R.currItem.fitRatio),cn[fe]=ee+mn+"px, "+gn+"px"+te+" scale("+xn+")"},Ne=function(cn){Ut&&(cn&&($>R.currItem.fitRatio?!Ae&&(Ba(R.currItem,!1,!0),Ae=!0):Ae&&(Ba(R.currItem),Ae=!1)),Me(Ut,G.x,G.y,$))},Ze=function(cn){cn.container&&Me(cn.container.style,cn.initialPosition.x,cn.initialPosition.y,cn.initialZoomLevel,cn)},ze=function(cn,mn){mn[fe]=ee+cn+"px, 0px"+te},Ke=function(cn,mn){if(!N.loop&&mn){var gn=B+(le.x*oe-cn)/le.x,xn=_Mathround(cn-Kt.x);(0>gn&&0<xn||gn>=Ra()-1&&0>xn)&&(cn=Kt.x+xn*N.mainScrollEndFriction)}Kt.x=cn,ze(cn,H)},Ue=function(cn,mn){var gn=Ht[cn]-ie[cn];return Y[cn]+q[cn]+gn-gn*(mn/J)},Be=function(cn,mn){cn.x=mn.x,cn.y=mn.y,mn.id&&(cn.id=mn.id)},He=function(cn){cn.x=_Mathround(cn.x),cn.y=_Mathround(cn.y)},We=null,qe=function(){We&&(L.unbind(document,"mousemove",qe),L.addClass(T,"pswp--has_mouse"),N.mouseUsed=!0,Le("mouseUsed")),We=setTimeout(function(){We=null},100)},Ye=function(){L.bind(document,"keydown",R),Ce.transform&&L.bind(R.scrollWrap,"click",R),N.mouseUsed||L.bind(document,"mousemove",qe),L.bind(window,"resize scroll orientationchange",R),Le("bindEvents")},Ge=function(){L.unbind(window,"resize scroll orientationchange",R),L.unbind(window,"scroll",X.scroll),L.unbind(document,"keydown",R),L.unbind(document,"mousemove",qe),Ce.transform&&L.unbind(R.scrollWrap,"click",R),Tt&&L.unbind(window,j,R),clearTimeout(Se),Le("unbindEvents")},je=function(cn,mn){var gn=Za(R.currItem,Q,cn);return mn&&(zt=gn),gn},Ve=function(cn){return cn||(cn=R.currItem),cn.initialZoomLevel},Xe=function(cn){return cn||(cn=R.currItem),0<cn.w?N.maxSpreadZoom:1},Qe=function(cn,mn,gn,xn){return xn===R.currItem.initialZoomLevel?(gn[cn]=R.currItem.initialPosition[cn],!0):(gn[cn]=Ue(cn,xn),gn[cn]>mn.min[cn])?(gn[cn]=mn.min[cn],!0):!!(gn[cn]<mn.max[cn])&&(gn[cn]=mn.max[cn],!0)},$e=function(){if(fe){var cn=Ce.perspective&&!he;return ee="translate"+(cn?"3d(":"("),void(te=Ce.perspective?", 0px)":")")}fe="left",L.addClass(T,"pswp--ie"),ze=function(mn,gn){gn.left=mn+"px"},Ze=function(mn){var gn=1<mn.fitRatio?1:mn.fitRatio,xn=mn.container.style,hn=gn*mn.w,yn=gn*mn.h;xn.width=hn+"px",xn.height=yn+"px",xn.left=mn.initialPosition.x+"px",xn.top=mn.initialPosition.y+"px"},Ne=function(){if(Ut){var mn=Ut,gn=R.currItem,xn=1<gn.fitRatio?1:gn.fitRatio,hn=xn*gn.w,yn=xn*gn.h;mn.width=hn+"px",mn.height=yn+"px",mn.left=G.x+"px",mn.top=G.y+"px"}}},Je=function(cn){var mn="";N.escKey&&27===cn.keyCode?mn="close":N.arrowKeys&&(37===cn.keyCode?mn="prev":39===cn.keyCode&&(mn="next")),!mn||cn.ctrlKey||cn.altKey||cn.shiftKey||cn.metaKey||(cn.preventDefault?cn.preventDefault():cn.returnValue=!1,R[mn]())},et=function(cn){!cn||(Ft||Ot||Bt||_t)&&(cn.preventDefault(),cn.stopPropagation())},tt=function(){R.setScrollOffset(0,L.getScrollY())},at={},nt=0,ot=function(cn){at[cn]&&(at[cn].raf&&we(at[cn].raf),nt--,delete at[cn])},it=function(cn){at[cn]&&ot(cn),at[cn]||(nt++,at[cn]={})},lt=function(){for(var cn in at)at.hasOwnProperty(cn)&&ot(cn)},rt=function(cn,mn,gn,xn,hn,yn,bn){var vn,wn=Re();it(cn);var En=function(){if(at[cn]){if(vn=Re()-wn,vn>=xn)return ot(cn),yn(gn),void(bn&&bn());yn((gn-mn)*hn(vn/xn)+mn),at[cn].raf=be(En)}};En()},dt=30,ut=10,pt,ct,mt={},ft={},gt={},xt={},ht={},yt=[],bt={},wt,vt=[],Et={},It,_t,Ct,kt=0,At=Z(),St=0,Tt,Dt,Ot,Ft,Lt,Rt,Pt,Mt,Nt,Zt,zt,Kt=Z(),Ut,Bt,Ht=Z(),Wt=Z(),qt,Yt,Gt,jt,Vt,Xt=function(cn,mn){return cn.x===mn.x&&cn.y===mn.y},Qt=function(cn,mn){return _Mathabs(cn.x-mn.x)<P&&_Mathabs(cn.y-mn.y)<P},$t=function(cn,mn){return Et.x=_Mathabs(cn.x-mn.x),Et.y=_Mathabs(cn.y-mn.y),Math.sqrt(Et.x*Et.x+Et.y*Et.y)},Jt=function(){Lt&&(we(Lt),Lt=null)},ea=function(){Tt&&(Lt=be(ea),ya())},ta=function(){return"fit"!==N.scaleMode||$!==R.currItem.initialZoomLevel},aa=function(cn,mn){return cn&&cn!==document&&(cn.getAttribute("class")&&-1<cn.getAttribute("class").indexOf("pswp__scroll-wrap")?!1:mn(cn)?cn:aa(cn.parentNode,mn))},na={},oa=function(cn,mn){return na.prevent=!aa(cn.target,N.isClickableElement),Le("preventDragEvent",cn,mn,na),na.prevent},ia=function(cn,mn){return mn.x=cn.pageX,mn.y=cn.pageY,mn.id=cn.identifier,mn},la=function(cn,mn,gn){gn.x=0.5*(cn.x+mn.x),gn.y=0.5*(cn.y+mn.y)},ra=function(cn,mn,gn){if(50<cn-ct){var xn=2<vt.length?vt.shift():{};xn.x=mn,xn.y=gn,vt.push(xn),ct=cn}},sa=function(){var cn=G.y-R.currItem.initialPosition.y;return 1-_Mathabs(cn/(Q.y/2))},da={},pa={},ca=[],ma,fa=function(cn){for(;0<ca.length;)ca.pop();return ge?(ma=0,yt.forEach(function(mn){0===ma?ca[0]=mn:1===ma&&(ca[1]=mn),ma++})):-1<cn.type.indexOf("touch")?cn.touches&&0<cn.touches.length&&(ca[0]=ia(cn.touches[0],da),1<cn.touches.length&&(ca[1]=ia(cn.touches[1],pa))):(da.x=cn.pageX,da.y=cn.pageY,da.id="",ca[0]=da),ca},ga=function(cn,mn){var gn,yn,En,In,xn=0,hn=G[cn]+mn[cn],bn=0<mn[cn],wn=Kt.x+mn.x,vn=Kt.x-bt.x;return gn=hn>zt.min[cn]||hn<zt.max[cn]?N.panEndFriction:1,hn=G[cn]+mn[cn]*gn,(N.allowPanToNext||$===R.currItem.initialZoomLevel)&&(Ut?"h"===qt&&"x"===cn&&!Ot&&(bn?(hn>zt.min[cn]&&(gn=N.panEndFriction,xn=zt.min[cn]-hn,yn=zt.min[cn]-Y[cn]),(0>=yn||0>vn)&&1<Ra()?(In=wn,0>vn&&wn>bt.x&&(In=bt.x)):zt.min.x!==zt.max.x&&(En=hn)):(hn<zt.max[cn]&&(gn=N.panEndFriction,xn=hn-zt.max[cn],yn=Y[cn]-zt.max[cn]),(0>=yn||0<vn)&&1<Ra()?(In=wn,0<vn&&wn<bt.x&&(In=bt.x)):zt.min.x!==zt.max.x&&(En=hn))):In=wn,"x"===cn)?(void 0!==In&&(Ke(In,!0),Rt=In!==bt.x),zt.min.x!==zt.max.x&&(void 0===En?!Rt&&(G.x+=mn.x*gn):G.x=En),void 0!==In):void(!Bt&&!Rt&&$>R.currItem.fitRatio&&(G[cn]+=mn[cn]*gn))},xa=function(cn){if(!("mousedown"===cn.type&&0<cn.button)){if(Oa)return void cn.preventDefault();if(!(Ct&&"mousedown"===cn.type)){if(oa(cn,!0)&&cn.preventDefault(),Le("pointerDown"),ge){var mn=L.arraySearch(yt,cn.pointerId,"id");0>mn&&(mn=yt.length),yt[mn]={x:cn.pageX,y:cn.pageY,id:cn.pointerId}}var gn=fa(cn),xn=gn.length;Pt=null,lt(),Tt&&1!==xn||(Tt=Yt=!0,L.bind(window,j,R),It=Vt=Gt=_t=Rt=Ft=Dt=Ot=!1,qt=null,Le("firstTouchStart",gn),Be(Y,G),q.x=q.y=0,Be(xt,gn[0]),Be(ht,xt),bt.x=le.x*oe,vt=[{x:xt.x,y:xt.y}],ct=pt=Re(),je($,!0),Jt(),ea()),Mt||!(1<xn)||Bt||Rt||(J=$,Ot=!1,Mt=Dt=!0,q.y=q.x=0,Be(Y,G),Be(mt,gn[0]),Be(ft,gn[1]),la(mt,ft,Wt),Ht.x=_Mathabs(Wt.x)-G.x,Ht.y=_Mathabs(Wt.y)-G.y,Nt=Zt=$t(mt,ft))}}},ha=function(cn){if(cn.preventDefault(),ge){var mn=L.arraySearch(yt,cn.pointerId,"id");if(-1<mn){var gn=yt[mn];gn.x=cn.pageX,gn.y=cn.pageY}}if(Tt){var xn=fa(cn);if(qt||Ft||Mt)Pt=xn;else if(Kt.x!==le.x*oe)qt="h";else{var hn=_Mathabs(xn[0].x-xt.x)-_Mathabs(xn[0].y-xt.y);_Mathabs(hn)>=ut&&(qt=0<hn?"h":"v",Pt=xn)}}},ya=function(){if(Pt){var cn=Pt.length;if(0!==cn)if(Be(mt,Pt[0]),gt.x=mt.x-xt.x,gt.y=mt.y-xt.y,Mt&&1<cn){if(xt.x=mt.x,xt.y=mt.y,!gt.x&&!gt.y&&Xt(Pt[1],ft))return;Be(ft,Pt[1]),Ot||(Ot=!0,Le("zoomGestureStarted"));var mn=$t(mt,ft),gn=Ia(mn);gn>R.currItem.initialZoomLevel+R.currItem.initialZoomLevel/15&&(Vt=!0);var xn=1,hn=Ve(),yn=Xe();if(!(gn<hn))gn>yn&&(xn=(gn-yn)/(6*hn),1<xn&&(xn=1),gn=yn+xn*hn);else if(N.pinchToClose&&!Vt&&J<=R.currItem.initialZoomLevel){var bn=hn-gn,wn=1-bn/(hn/1.2);Pe(wn),Le("onPinchClose",wn),Gt=!0}else xn=(hn-gn)/hn,1<xn&&(xn=1),gn=hn-xn*(hn/3);0>xn&&(xn=0),Nt=mn,la(mt,ft,At),q.x+=At.x-Wt.x,q.y+=At.y-Wt.y,Be(Wt,At),G.x=Ue("x",gn),G.y=Ue("y",gn),It=gn>$,$=gn,Ne()}else{if(!qt)return;if(Yt&&(Yt=!1,_Mathabs(gt.x)>=ut&&(gt.x-=Pt[0].x-ht.x),_Mathabs(gt.y)>=ut&&(gt.y-=Pt[0].y-ht.y)),xt.x=mt.x,xt.y=mt.y,0===gt.x&&0===gt.y)return;if("v"===qt&&N.closeOnVerticalDrag&&!ta()){q.y+=gt.y,G.y+=gt.y;var vn=sa();return _t=!0,Le("onVerticalDrag",vn),Pe(vn),void Ne()}ra(Re(),mt.x,mt.y),Ft=!0,zt=R.currItem.bounds;var En=ga("x",gt);En||(ga("y",gt),He(G),Ne())}}},ba=function(cn){if(Ce.isOldAndroid){if(Ct&&"mouseup"===cn.type)return;-1<cn.type.indexOf("touch")&&(clearTimeout(Ct),Ct=setTimeout(function(){Ct=0},600))}Le("pointerUp"),oa(cn,!1)&&cn.preventDefault();var mn;if(ge){var gn=L.arraySearch(yt,cn.pointerId,"id");if(-1<gn)if(mn=yt.splice(gn,1)[0],navigator.pointerEnabled)mn.type=cn.pointerType||"mouse";else{mn.type={2:"touch",3:"pen",4:"mouse"}[cn.pointerType],mn.type||(mn.type=cn.pointerType||"mouse")}}var yn,hn=fa(cn),bn=hn.length;if("mouseup"===cn.type&&(bn=0),2===bn)return Pt=null,!0;1===bn&&Be(ht,hn[0]),0!==bn||qt||Bt||(!mn&&("mouseup"===cn.type?mn={x:cn.pageX,y:cn.pageY,type:"mouse"}:cn.changedTouches&&cn.changedTouches[0]&&(mn={x:cn.changedTouches[0].pageX,y:cn.changedTouches[0].pageY,type:"touch"})),Le("touchRelease",cn,mn));var wn=-1;if(0===bn&&(Tt=!1,L.unbind(window,j,R),Jt(),Mt?wn=0:-1!=St&&(wn=Re()-St)),St=1===bn?Re():-1,yn=-1!=wn&&150>wn?"zoom":"swipe",Mt&&2>bn&&(Mt=!1,1===bn&&(yn="zoomPointerUp"),Le("zoomGestureEnded")),Pt=null,Ft||Ot||Bt||_t){if(lt(),wt||(wt=wa()),wt.calculateSwipeSpeed("x"),_t){var vn=sa();if(vn<N.verticalDragRange)R.close();else{var En=G.y,In=jt;rt("verticalDrag",0,1,300,L.easing.cubic.out,function(Cn){G.y=(R.currItem.initialPosition.y-En)*Cn+En,Pe((1-In)*Cn+In),Ne()}),Le("onVerticalDrag",1)}return}if((Rt||Bt)&&0===bn){var _n=Ea(yn,wt);if(_n)return;yn="zoomPointerUp"}return Bt?void 0:"swipe"===yn?void(!Rt&&$>R.currItem.fitRatio&&va(wt)):void _a()}},wa=function(){var cn,mn,gn={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(xn){1<vt.length?(cn=Re()-ct+50,mn=vt[vt.length-2][xn]):(cn=Re()-pt,mn=ht[xn]),gn.lastFlickOffset[xn]=xt[xn]-mn,gn.lastFlickDist[xn]=_Mathabs(gn.lastFlickOffset[xn]),gn.lastFlickSpeed[xn]=20<gn.lastFlickDist[xn]?gn.lastFlickOffset[xn]/cn:0,0.1>_Mathabs(gn.lastFlickSpeed[xn])&&(gn.lastFlickSpeed[xn]=0),gn.slowDownRatio[xn]=0.95,gn.slowDownRatioReverse[xn]=1-gn.slowDownRatio[xn],gn.speedDecelerationRatio[xn]=1},calculateOverBoundsAnimOffset:function(xn,hn){gn.backAnimStarted[xn]||(G[xn]>zt.min[xn]?gn.backAnimDestination[xn]=zt.min[xn]:G[xn]<zt.max[xn]&&(gn.backAnimDestination[xn]=zt.max[xn]),gn.backAnimDestination[xn]!==void 0&&(gn.slowDownRatio[xn]=0.7,gn.slowDownRatioReverse[xn]=1-gn.slowDownRatio[xn],0.05>gn.speedDecelerationRatioAbs[xn]&&(gn.lastFlickSpeed[xn]=0,gn.backAnimStarted[xn]=!0,rt("bounceZoomPan"+xn,G[xn],gn.backAnimDestination[xn],hn||300,L.easing.sine.out,function(yn){G[xn]=yn,Ne()}))))},calculateAnimOffset:function(xn){gn.backAnimStarted[xn]||(gn.speedDecelerationRatio[xn]*=gn.slowDownRatio[xn]+gn.slowDownRatioReverse[xn]-gn.slowDownRatioReverse[xn]*gn.timeDiff/10,gn.speedDecelerationRatioAbs[xn]=_Mathabs(gn.lastFlickSpeed[xn]*gn.speedDecelerationRatio[xn]),gn.distanceOffset[xn]=gn.lastFlickSpeed[xn]*gn.speedDecelerationRatio[xn]*gn.timeDiff,G[xn]+=gn.distanceOffset[xn])},panAnimLoop:function(){if(at.zoomPan&&(at.zoomPan.raf=be(gn.panAnimLoop),gn.now=Re(),gn.timeDiff=gn.now-gn.lastNow,gn.lastNow=gn.now,gn.calculateAnimOffset("x"),gn.calculateAnimOffset("y"),Ne(),gn.calculateOverBoundsAnimOffset("x"),gn.calculateOverBoundsAnimOffset("y"),0.05>gn.speedDecelerationRatioAbs.x&&0.05>gn.speedDecelerationRatioAbs.y))return G.x=_Mathround(G.x),G.y=_Mathround(G.y),Ne(),void ot("zoomPan")}};return gn},va=function(cn){return cn.calculateSwipeSpeed("y"),zt=R.currItem.bounds,cn.backAnimDestination={},cn.backAnimStarted={},0.05>=_Mathabs(cn.lastFlickSpeed.x)&&0.05>=_Mathabs(cn.lastFlickSpeed.y)?(cn.speedDecelerationRatioAbs.x=cn.speedDecelerationRatioAbs.y=0,cn.calculateOverBoundsAnimOffset("x"),cn.calculateOverBoundsAnimOffset("y"),!0):void(it("zoomPan"),cn.lastNow=Re(),cn.panAnimLoop())},Ea=function(cn,mn){var gn;Bt||(kt=B);var xn;if("swipe"===cn){var hn=xt.x-ht.x,yn=10>mn.lastFlickDist.x;hn>dt&&(yn||20<mn.lastFlickOffset.x)?xn=-1:hn<-dt&&(yn||-20>mn.lastFlickOffset.x)&&(xn=1)}var bn;xn&&(B+=xn,0>B?(B=N.loop?Ra()-1:0,bn=!0):B>=Ra()&&(B=N.loop?0:Ra()-1,bn=!0),(!bn||N.loop)&&(de+=xn,oe-=xn,gn=!0));var En,wn=le.x*oe,vn=_Mathabs(wn-Kt.x);return gn||wn>Kt.x==0<mn.lastFlickSpeed.x?(En=0<_Mathabs(mn.lastFlickSpeed.x)?vn/_Mathabs(mn.lastFlickSpeed.x):333,En=_Mathmin(En,400),En=_Mathmax(En,250)):En=333,kt===B&&(gn=!1),Bt=!0,Le("mainScrollAnimStart"),rt("mainScroll",Kt.x,wn,En,L.easing.cubic.out,Ke,function(){lt(),Bt=!1,kt=-1,(gn||kt!==B)&&R.updateCurrItem(),Le("mainScrollAnimComplete")}),gn&&R.updateCurrItem(!0),gn},Ia=function(cn){return 1/Zt*cn*J},_a=function(){var cn=$,mn=Ve(),gn=Xe();$<mn?cn=mn:$>gn&&(cn=gn);var hn,yn=jt;return Gt&&!It&&!Vt&&$<mn?(R.close(),!0):(Gt&&(hn=function(bn){Pe((1-yn)*bn+yn)}),R.zoomTo(cn,0,200,L.easing.cubic.out,hn),!0)};Te("Gestures",{publicMethods:{initGestures:function(){var cn=function(mn,gn,xn,hn,yn){ue=mn+gn,pe=mn+xn,ce=mn+hn,me=yn?mn+yn:""};ge=Ce.pointerEvent,ge&&Ce.touch&&(Ce.touch=!1),ge?navigator.pointerEnabled?cn("pointer","down","move","up","cancel"):cn("MSPointer","Down","Move","Up","Cancel"):Ce.touch?(cn("touch","start","move","end","cancel"),he=!0):cn("mouse","down","move","up"),j=pe+" "+ce+" "+me,V=ue,ge&&!he&&(he=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),R.likelyTouchDevice=he,X[ue]=xa,X[pe]=ha,X[ce]=ba,me&&(X[me]=X[ce]),Ce.touch&&(V+=" mousedown",j+=" mousemove mouseup",X.mousedown=X[ue],X.mousemove=X[pe],X.mouseup=X[ce]),he||(N.allowPanToNext=!1)}}});var Ca,ka=function(cn,mn,gn,xn){Ca&&clearTimeout(Ca),Oa=!0,Da=!0;var hn;cn.initialLayout?(hn=cn.initialLayout,cn.initialLayout=null):hn=N.getThumbBoundsFn&&N.getThumbBoundsFn(B);var yn=gn?N.hideAnimationDuration:N.showAnimationDuration,bn=function(){ot("initialZoom"),gn?(R.template.removeAttribute("style"),R.bg.removeAttribute("style")):(Pe(1),mn&&(mn.style.display="block"),L.addClass(T,"pswp--animated-in"),Le("initialZoom"+(gn?"OutEnd":"InEnd"))),xn&&xn(),Oa=!1};if(!yn||!hn||void 0===hn.x)return Le("initialZoom"+(gn?"Out":"In")),$=cn.initialZoomLevel,Be(G,cn.initialPosition),Ne(),T.style.opacity=gn?0:1,Pe(1),void(yn?setTimeout(function(){bn()},yn):bn());(function(){var vn=U,En=!R.currItem.src||R.currItem.loadError||N.showHideOpacity;cn.miniImg&&(cn.miniImg.style.webkitBackfaceVisibility="hidden"),gn||($=hn.w/cn.w,G.x=hn.x,G.y=hn.y-Ee,R[En?"template":"bg"].style.opacity=1e-3,Ne()),it("initialZoom"),gn&&!vn&&L.removeClass(T,"pswp--animated-in"),En&&(gn?L[(vn?"remove":"add")+"Class"](T,"pswp--animate_opacity"):setTimeout(function(){L.addClass(T,"pswp--animate_opacity")},30)),Ca=setTimeout(function(){if(Le("initialZoom"+(gn?"Out":"In")),!gn)$=cn.initialZoomLevel,Be(G,cn.initialPosition),Ne(),Pe(1),En?T.style.opacity=1:Pe(1),Ca=setTimeout(bn,yn+20);else{var In=hn.w/cn.w,_n={x:G.x,y:G.y},Cn=$,kn=jt,An=function(Sn){1===Sn?($=In,G.x=hn.x,G.y=hn.y-_e):($=(In-Cn)*Sn+Cn,G.x=(hn.x-_n.x)*Sn+_n.x,G.y=(hn.y-_e-_n.y)*Sn+_n.y),Ne(),En?T.style.opacity=1-Sn:Pe(kn-Sn*kn)};vn?rt("initialZoom",0,1,yn,L.easing.cubic.out,An,bn):(An(1),Ca=setTimeout(bn,yn+20))}},gn?25:90)})()},Aa,Sa={},Ta=[],Da,Oa,Fa={index:0,errorMsg:"<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>",forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Aa.length}},La,Ra,Pa,Ma=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Na=function(cn,mn,gn){var xn=cn.bounds;xn.center.x=_Mathround((Sa.x-mn)/2),xn.center.y=_Mathround((Sa.y-gn)/2)+cn.vGap.top,xn.max.x=mn>Sa.x?_Mathround(Sa.x-mn):xn.center.x,xn.max.y=gn>Sa.y?_Mathround(Sa.y-gn)+cn.vGap.top:xn.center.y,xn.min.x=mn>Sa.x?0:xn.center.x,xn.min.y=gn>Sa.y?cn.vGap.top:xn.center.y},Za=function(cn,mn,gn){if(cn.src&&!cn.loadError){var xn=!gn;if(xn&&(!cn.vGap&&(cn.vGap={top:0,bottom:0}),Le("parseVerticalMargin",cn)),Sa.x=mn.x,Sa.y=mn.y-cn.vGap.top-cn.vGap.bottom,xn){var hn=Sa.x/cn.w,yn=Sa.y/cn.h;cn.fitRatio=hn<yn?hn:yn;var bn=N.scaleMode;"orig"===bn?gn=1:"fit"===bn&&(gn=cn.fitRatio),1<gn&&(gn=1),cn.initialZoomLevel=gn,cn.bounds||(cn.bounds=Ma())}return gn?(Na(cn,cn.w*gn,cn.h*gn),xn&&gn===cn.initialZoomLevel&&(cn.initialPosition=cn.bounds.center),cn.bounds):void 0}return cn.w=cn.h=0,cn.initialZoomLevel=cn.fitRatio=1,cn.bounds=Ma(),cn.initialPosition=cn.bounds.center,cn.bounds},za=function(cn,mn,gn,xn,hn,yn){mn.loadError||xn&&(mn.imageAppended=!0,Ba(mn,xn,mn===R.currItem&&Ae),gn.appendChild(xn),yn&&setTimeout(function(){mn&&mn.loaded&&mn.placeholder&&(mn.placeholder.style.display="none",mn.placeholder=null)},500))},Ka=function(cn){cn.loading=!0,cn.loaded=!1;var mn=cn.img=L.createEl("pswp__img","img"),gn=function(){cn.loading=!1,cn.loaded=!0,cn.loadComplete?cn.loadComplete(cn):cn.img=null,mn.onload=mn.onerror=null,mn=null};return mn.onload=gn,mn.onerror=function(){cn.loadError=!0,gn()},mn.src=cn.src,mn},Ua=function(cn,mn){if(cn.src&&cn.loadError&&cn.container)return mn&&(cn.container.innerHTML=""),cn.container.innerHTML=N.errorMsg.replace("%url%",cn.src),!0},Ba=function(cn,mn,gn){if(cn.src){mn||(mn=cn.container.lastChild);var xn=gn?cn.w:_Mathround(cn.w*cn.fitRatio),hn=gn?cn.h:_Mathround(cn.h*cn.fitRatio);cn.placeholder&&!cn.loaded&&(cn.placeholder.style.width=xn+"px",cn.placeholder.style.height=hn+"px"),mn.style.width=xn+"px",mn.style.height=hn+"px"}},Ha=function(){if(Ta.length){for(var cn,mn=0;mn<Ta.length;mn++)cn=Ta[mn],cn.holder.index===cn.index&&za(cn.index,cn.item,cn.baseDiv,cn.img,!1,cn.clearPlaceholder);Ta=[]}};Te("Controller",{publicMethods:{lazyLoadItem:function(cn){cn=De(cn);var mn=La(cn);mn&&(!mn.loaded&&!mn.loading||ne)&&(Le("gettingData",cn,mn),mn.src&&Ka(mn))},initController:function(){L.extend(N,Fa,!0),R.items=Aa=O,La=R.getItemAt,Ra=N.getNumItemsFn,Pa=N.loop,3>Ra()&&(N.loop=!1),Fe("beforeChange",function(cn){var yn,mn=N.preload,gn=!(null!==cn)||0<=cn,xn=_Mathmin(mn[0],Ra()),hn=_Mathmin(mn[1],Ra());for(yn=1;yn<=(gn?hn:xn);yn++)R.lazyLoadItem(B+yn);for(yn=1;yn<=(gn?xn:hn);yn++)R.lazyLoadItem(B-yn)}),Fe("initialLayout",function(){R.currItem.initialLayout=N.getThumbBoundsFn&&N.getThumbBoundsFn(B)}),Fe("mainScrollAnimComplete",Ha),Fe("initialZoomInEnd",Ha),Fe("destroy",function(){for(var cn,mn=0;mn<Aa.length;mn++)cn=Aa[mn],cn.container&&(cn.container=null),cn.placeholder&&(cn.placeholder=null),cn.img&&(cn.img=null),cn.preloader&&(cn.preloader=null),cn.loadError&&(cn.loaded=cn.loadError=!1);Ta=null})},getItemAt:function(cn){return!!(0<=cn)&&void 0!==Aa[cn]&&Aa[cn]},allowProgressiveImg:function(){return N.forceProgressiveLoading||!he||N.mouseUsed||1200<screen.width},setContent:function(cn,mn){N.loop&&(mn=De(mn));var gn=R.getItemAt(cn.index);gn&&(gn.container=null);var hn,xn=R.getItemAt(mn);if(!xn)return void(cn.el.innerHTML="");Le("gettingData",mn,xn),cn.index=mn,cn.item=xn;var yn=xn.container=L.createEl("pswp__zoom-wrap");if(!xn.src&&xn.html&&(xn.html.tagName?yn.appendChild(xn.html):yn.innerHTML=xn.html),Ua(xn),Za(xn,Q),xn.src&&!xn.loadError&&!xn.loaded){if(xn.loadComplete=function(vn){if(z){if(cn&&cn.index===mn){if(Ua(vn,!0))return vn.loadComplete=vn.img=null,Za(vn,Q),Ze(vn),void(cn.index===B&&R.updateCurrZoomItem());vn.imageAppended?!Oa&&vn.placeholder&&(vn.placeholder.style.display="none",vn.placeholder=null):Ce.transform&&(Bt||Oa)?Ta.push({item:vn,baseDiv:yn,img:vn.img,index:mn,holder:cn,clearPlaceholder:!0}):za(mn,vn,yn,vn.img,Bt||Oa,!0)}vn.loadComplete=null,vn.img=null,Le("imageLoadComplete",mn,vn)}},L.features.transform){var bn="pswp__img pswp__img--placeholder";bn+=xn.msrc?"":" pswp__img--placeholder--blank";var wn=L.createEl(bn,xn.msrc?"img":"");xn.msrc&&(wn.src=xn.msrc),Ba(xn,wn),yn.appendChild(wn),xn.placeholder=wn}xn.loading||Ka(xn),R.allowProgressiveImg()&&(!Da&&Ce.transform?Ta.push({item:xn,baseDiv:yn,img:xn.img,index:mn,holder:cn}):za(mn,xn,yn,xn.img,!0,!0))}else xn.src&&!xn.loadError&&(hn=L.createEl("pswp__img","img"),hn.style.opacity=1,hn.src=xn.src,Ba(xn,hn),za(mn,xn,yn,hn,!0));Da||mn!==B?Ze(xn):(Ut=yn.style,ka(xn,hn||xn.img)),cn.el.innerHTML="",cn.el.appendChild(yn)},cleanSlide:function(cn){cn.img&&(cn.img.onload=cn.img.onerror=null),cn.loaded=cn.loading=cn.img=cn.imageAppended=!1}}});var Wa,qa={},Ya=function(cn,mn,gn){var xn=document.createEvent("CustomEvent"),hn={origEvent:cn,target:cn.target,releasePoint:mn,pointerType:gn||"touch"};xn.initCustomEvent("pswpTap",!0,!0,hn),cn.target.dispatchEvent(xn)};Te("Tap",{publicMethods:{initTap:function(){Fe("firstTouchStart",R.onTapStart),Fe("touchRelease",R.onTapRelease),Fe("destroy",function(){qa={},Wa=null})},onTapStart:function(cn){1<cn.length&&(clearTimeout(Wa),Wa=null)},onTapRelease:function(cn,mn){if(mn&&!Ft&&!Dt&&!nt){var gn=mn;if(Wa&&(clearTimeout(Wa),Wa=null,Qt(gn,qa)))return void Le("doubleTap",gn);if("mouse"===mn.type)return void Ya(cn,mn,"mouse");var xn=cn.target.tagName.toUpperCase();if("BUTTON"===xn||L.hasClass(cn.target,"pswp__single-tap"))return void Ya(cn,mn);Be(qa,gn),Wa=setTimeout(function(){Ya(cn,mn),Wa=null},300)}}}});var Ga;Te("DesktopZoom",{publicMethods:{initDesktopZoom:function(){Ie||(he?Fe("mouseUsed",function(){R.setupDesktopZoom()}):R.setupDesktopZoom(!0))},setupDesktopZoom:function(cn){Ga={};var mn="wheel mousewheel DOMMouseScroll";Fe("bindEvents",function(){L.bind(T,mn,R.handleMouseWheel)}),Fe("unbindEvents",function(){Ga&&L.unbind(T,mn,R.handleMouseWheel)}),R.mouseZoomedIn=!1;var gn,xn=function(){R.mouseZoomedIn&&(L.removeClass(T,"pswp--zoomed-in"),R.mouseZoomedIn=!1),1>$?L.addClass(T,"pswp--zoom-allowed"):L.removeClass(T,"pswp--zoom-allowed"),hn()},hn=function(){gn&&(L.removeClass(T,"pswp--dragging"),gn=!1)};Fe("resize",xn),Fe("afterChange",xn),Fe("pointerDown",function(){R.mouseZoomedIn&&(gn=!0,L.addClass(T,"pswp--dragging"))}),Fe("pointerUp",hn),cn||xn()},handleMouseWheel:function(cn){if($<=R.currItem.fitRatio)return N.modal&&(!N.closeOnScroll||nt||Tt?cn.preventDefault():fe&&2<_Mathabs(cn.deltaY)&&(U=!0,R.close())),!0;if(cn.stopPropagation(),Ga.x=0,"deltaX"in cn)1===cn.deltaMode?(Ga.x=18*cn.deltaX,Ga.y=18*cn.deltaY):(Ga.x=cn.deltaX,Ga.y=cn.deltaY);else if("wheelDelta"in cn)cn.wheelDeltaX&&(Ga.x=-0.16*cn.wheelDeltaX),Ga.y=cn.wheelDeltaY?-0.16*cn.wheelDeltaY:-0.16*cn.wheelDelta;else if("detail"in cn)Ga.y=cn.detail;else return;je($,!0);var mn=G.x-Ga.x,gn=G.y-Ga.y;(N.modal||mn<=zt.min.x&&mn>=zt.max.x&&gn<=zt.min.y&&gn>=zt.max.y)&&cn.preventDefault(),R.panTo(mn,gn)},toggleDesktopZoom:function(cn){cn=cn||{x:Q.x/2+ie.x,y:Q.y/2+ie.y};var mn=N.getDoubleTapZoom(!0,R.currItem),gn=$===mn;R.mouseZoomedIn=!gn,R.zoomTo(gn?R.currItem.initialZoomLevel:mn,cn,333),L[(gn?"remove":"add")+"Class"](T,"pswp--zoomed-in")}}});var ja={history:!0,galleryUID:1},Va,Xa,Qa,$a,Ja,en,tn,an,nn,on,ln,rn,sn=function(){return ln.hash.substring(1)},dn=function(){Va&&clearTimeout(Va),Qa&&clearTimeout(Qa)},un=function(){var cn=sn(),mn={};if(5>cn.length)return mn;var gn,xn=cn.split("&");for(gn=0;gn<xn.length;gn++)if(xn[gn]){var hn=xn[gn].split("=");2>hn.length||(mn[hn[0]]=hn[1])}if(N.galleryPIDs){var yn=mn.pid;for(mn.pid=0,gn=0;gn<Aa.length;gn++)if(Aa[gn].pid===yn){mn.pid=gn;break}}else mn.pid=parseInt(mn.pid,10)-1;return 0>mn.pid&&(mn.pid=0),mn},pn=function(){if(Qa&&clearTimeout(Qa),nt||Tt)return void(Qa=setTimeout(pn,500));$a?clearTimeout(Xa):$a=!0;var cn=B+1,mn=La(B);mn.hasOwnProperty("pid")&&(cn=mn.pid);var gn=tn+"&gid="+N.galleryUID+"&pid="+cn;an||-1!==ln.hash.indexOf(gn)||(on=!0);var xn=ln.href.split("#")[0]+"#"+gn;rn?"#"+gn!==window.location.hash&&history[an?"replaceState":"pushState"]("",document.title,xn):an?ln.replace(xn):ln.hash=gn,an=!0,Xa=setTimeout(function(){$a=!1},60)};Te("History",{publicMethods:{initHistory:function(){if(L.extend(N,ja,!0),!!N.history){ln=window.location,on=!1,nn=!1,an=!1,tn=sn(),rn="pushState"in history,-1<tn.indexOf("gid=")&&(tn=tn.split("&gid=")[0],tn=tn.split("?gid=")[0]),Fe("afterChange",R.updateURL),Fe("unbindEvents",function(){L.unbind(window,"hashchange",R.onHashChange)});var cn=function(){en=!0,nn||(on?history.back():tn?ln.hash=tn:rn?history.pushState("",document.title,ln.pathname+ln.search):ln.hash=""),dn()};Fe("unbindEvents",function(){U&&cn()}),Fe("destroy",function(){en||cn()}),Fe("firstUpdate",function(){B=un().pid});var mn=tn.indexOf("pid=");-1<mn&&(tn=tn.substring(0,mn),"&"===tn.slice(-1)&&(tn=tn.slice(0,-1))),setTimeout(function(){z&&L.bind(window,"hashchange",R.onHashChange)},40)}},onHashChange:function(){return sn()===tn?(nn=!0,void R.close()):void(!$a&&(Ja=!0,R.goTo(un().pid),Ja=!1))},updateURL:function(){dn();Ja||(an?Va=setTimeout(pn,800):pn())}}}),L.extend(R,{shout:Le,listen:Fe,viewportSize:Q,options:N,isMainScrollAnimating:function(){return Bt},getZoomLevel:function(){return $},getCurrentIndex:function(){return B},isDragging:function(){return Tt},isZooming:function(){return Mt},setScrollOffset:function(cn,mn){ie.x=cn,_e=ie.y=mn,Le("updateScrollOffset",ie)},applyZoomPan:function(cn,mn,gn,xn){G.x=mn,G.y=gn,$=cn,Ne(xn)},init:function(){if(!(z||K)){var cn;R.framework=L,R.template=T,R.bg=L.getChildByClass(T,"pswp__bg"),ve=T.className,z=!0,Ce=L.detectFeatures(),be=Ce.raf,we=Ce.caf,fe=Ce.transform,Ie=Ce.oldIE,R.scrollWrap=L.getChildByClass(T,"pswp__scroll-wrap"),R.container=L.getChildByClass(R.scrollWrap,"pswp__container"),H=R.container.style,R.itemHolders=re=[{el:R.container.children[0],wrap:0,index:-1},{el:R.container.children[1],wrap:0,index:-1},{el:R.container.children[2],wrap:0,index:-1}],re[0].el.style.display=re[2].el.style.display="none",$e(),X={resize:R.updateSize,orientationchange:function(){clearTimeout(Se),Se=setTimeout(function(){Q.x!==R.scrollWrap.clientWidth&&R.updateSize()},500)},scroll:tt,keydown:Je,click:et};var mn=Ce.isOldIOSPhone||Ce.isOldAndroid||Ce.isMobileOpera;for(Ce.animationName&&Ce.transform&&!mn||(N.showAnimationDuration=N.hideAnimationDuration=0),cn=0;cn<ye.length;cn++)R["init"+ye[cn]]();if(D){var gn=R.ui=new D(R,L);gn.init()}Le("firstUpdate"),B=B||N.index||0,(isNaN(B)||0>B||B>=Ra())&&(B=0),R.currItem=La(B),(Ce.isOldIOSPhone||Ce.isOldAndroid)&&(xe=!1),T.setAttribute("aria-hidden","false"),N.modal&&(xe?T.style.position="fixed":(T.style.position="absolute",T.style.top=L.getScrollY()+"px")),void 0===_e&&(Le("initialLayout"),_e=Ee=L.getScrollY());var xn="pswp--open ";for(N.mainClass&&(xn+=N.mainClass+" "),N.showHideOpacity&&(xn+="pswp--animate_opacity "),xn+=he?"pswp--touch":"pswp--notouch",xn+=Ce.animationName?" pswp--css_animation":"",xn+=Ce.svg?" pswp--svg":"",L.addClass(T,xn),R.updateSize(),W=-1,de=null,cn=0;cn<M;cn++)ze((cn+W)*le.x,re[cn].el.style);Ie||L.bind(R.scrollWrap,V,R),Fe("initialZoomInEnd",function(){R.setContent(re[0],B-1),R.setContent(re[2],B+1),re[0].el.style.display=re[2].el.style.display="block",N.focus&&T.focus(),Ye()}),R.setContent(re[1],B),R.updateCurrItem(),Le("afterInit"),xe||(ae=setInterval(function(){nt||Tt||Mt||$!==R.currItem.initialZoomLevel||R.updateSize()},1e3)),L.addClass(T,"pswp--visible")}},close:function(){z&&(z=!1,K=!0,Le("close"),Ge(),ka(R.currItem,null,!0,R.destroy))},destroy:function(){Le("destroy"),Ca&&clearTimeout(Ca),T.setAttribute("aria-hidden","true"),T.className=ve,ae&&clearInterval(ae),L.unbind(R.scrollWrap,V,R),L.unbind(window,"scroll",R),Jt(),lt(),Oe=null},panTo:function(cn,mn,gn){gn||(cn>zt.min.x?cn=zt.min.x:cn<zt.max.x&&(cn=zt.max.x),mn>zt.min.y?mn=zt.min.y:mn<zt.max.y&&(mn=zt.max.y)),G.x=cn,G.y=mn,Ne()},handleEvent:function(cn){cn=cn||window.event,X[cn.type]&&X[cn.type](cn)},goTo:function(cn){cn=De(cn);var mn=cn-B;de=mn,B=cn,R.currItem=La(B),oe-=mn,Ke(le.x*oe),lt(),Bt=!1,R.updateCurrItem()},next:function(){R.goTo(B+1)},prev:function(){R.goTo(B-1)},updateCurrZoomItem:function(cn){if(cn&&Le("beforeChange",0),re[1].el.children.length){var mn=re[1].el.children[0];Ut=L.hasClass(mn,"pswp__zoom-wrap")?mn.style:null}else Ut=null;zt=R.currItem.bounds,J=$=R.currItem.initialZoomLevel,G.x=zt.center.x,G.y=zt.center.y,cn&&Le("afterChange")},invalidateCurrItems:function(){ne=!0;for(var cn=0;cn<M;cn++)re[cn].item&&(re[cn].item.needsUpdate=!0)},updateCurrItem:function(cn){if(0!==de){var gn,mn=_Mathabs(de);if(!(cn&&2>mn)){R.currItem=La(B),Ae=!1,Le("beforeChange",de),mn>=M&&(W+=de+(0<de?-M:M),mn=M);for(var xn=0;xn<mn;xn++)0<de?(gn=re.shift(),re[M-1]=gn,W++,ze((W+2)*le.x,gn.el.style),R.setContent(gn,B-mn+xn+1+1)):(gn=re.pop(),re.unshift(gn),W--,ze(W*le.x,gn.el.style),R.setContent(gn,B+mn-xn-1-1));if(Ut&&1===_Mathabs(de)){var hn=La(se);hn.initialZoomLevel!==$&&(Za(hn,Q),Ba(hn),Ze(hn))}de=0,R.updateCurrZoomItem(),se=B,Le("afterChange")}}},updateSize:function(cn){if(!xe&&N.modal){var mn=L.getScrollY();if(_e!==mn&&(T.style.top=mn+"px",_e=mn),!cn&&ke.x===window.innerWidth&&ke.y===window.innerHeight)return;ke.x=window.innerWidth,ke.y=window.innerHeight,T.style.height=ke.y+"px"}if(Q.x=R.scrollWrap.clientWidth,Q.y=R.scrollWrap.clientHeight,tt(),le.x=Q.x+_Mathround(Q.x*N.spacing),le.y=Q.y,Ke(le.x*oe),Le("beforeResize"),void 0!==W){for(var gn,xn,hn,yn=0;yn<M;yn++)gn=re[yn],ze((yn+W)*le.x,gn.el.style),hn=B+yn-1,N.loop&&2<Ra()&&(hn=De(hn)),xn=La(hn),xn&&(ne||xn.needsUpdate||!xn.bounds)?(R.cleanSlide(xn),R.setContent(gn,hn),1===yn&&(R.currItem=xn,R.updateCurrZoomItem(!0)),xn.needsUpdate=!1):-1===gn.index&&0<=hn&&R.setContent(gn,hn),xn&&xn.container&&(Za(xn,Q),Ba(xn),Ze(xn));ne=!1}J=$=R.currItem.initialZoomLevel,zt=R.currItem.bounds,zt&&(G.x=zt.center.x,G.y=zt.center.y,Ne(!0)),Le("resize")},zoomTo:function(cn,mn,gn,xn,hn){mn&&(J=$,Ht.x=_Mathabs(mn.x)-G.x,Ht.y=_Mathabs(mn.y)-G.y,Be(Y,G));var yn=je(cn,!1),bn={};Qe("x",yn,bn,cn),Qe("y",yn,bn,cn);var wn=$,vn={x:G.x,y:G.y};He(bn);var En=function(In){1===In?($=cn,G.x=bn.x,G.y=bn.y):($=(cn-wn)*In+wn,G.x=(bn.x-vn.x)*In+vn.x,G.y=(bn.y-vn.y)*In+vn.y),hn&&hn(In),Ne(1===In)};gn?rt("customZoomTo",0,1,gn,xn||L.easing.sine.inOut,En):En(1)}})}})},{}],3:[function(_,C,A){"use strict";function S(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(A,"__esModule",{value:!0});var T=function(){function U(B,H){for(var q,W=0;W<H.length;W++)q=H[W],q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(B,q.key,q)}return function(B,H,W){return H&&U(B.prototype,H),W&&U(B,W),B}}(),D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},O="tabtrap",L="tabtrap",R={ESCAPE:27,TAB:9},P={disableOnEscape:!1,tabbableElements:["a[href]:not([tabindex=\"-1\"])","map[name] area[href]:not([tabindex=\"-1\"])","input:not([disabled]):not([tabindex=\"-1\"])","select:not([disabled]):not([tabindex=\"-1\"])","textarea:not([disabled]):not([tabindex=\"-1\"])","button:not([disabled]):not([tabindex=\"-1\"])","iframe:not([tabindex=\"-1\"])","object:not([tabindex=\"-1\"])","embed:not([tabindex=\"-1\"])","[tabindex]:not([tabindex=\"-1\"])","[contentEditable=true]:not([tabindex=\"-1\"])"]},M={disableOnEscape:"boolean",tabbableElements:"object"},N={KEYDOWN_DISABLE:"keydown.disable."+L,KEYDOWN_TAB:"keydown.tab."+L},Z=window.jQuery!==void 0,z=function U(B){switch("undefined"==typeof B?"undefined":D(B)){case"string":return document.querySelectorAll(B);break;case"object":return 1===B.nodeType?B:U(B.selector);break;default:throw new Error("Must provide a selector or element");}},K=function(){function U(B,H){S(this,U),this.config=this._getConfig(B,H),this.element=this._assertElement(this.config.element),this.enabled=!0,this.tabbable=this._getTabbable(),this._createEventListener(),this.config.disableOnEscape&&this._setEscapeEvent()}return T(U,[{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"toggle",value:function(){this.enabled=!this.enabled}},{key:"_getConfig",value:function(H){var q={};return"object"===("undefined"==typeof H?"undefined":D(H))&&void 0===H.nodeType?q=H:q.element=H,Object.assign({},this.constructor.Default,q)}},{key:"_assertElement",value:function(H){return 1===H.nodeType?H:"string"==typeof H?document.querySelector(H):null}},{key:"_getTabbable",value:function(){return this.element.querySelectorAll(this.config.tabbableElements.join(","))}},{key:"_getKeyCode",value:function(H){return H.which||H.keyCode||0}},{key:"_createEventListener",value:function(){var H=this;Z?(jQuery(this.element).off(N.KEYDOWN_TAB),jQuery(this.element).on(N.KEYDOWN_TAB,function(W){return H._manageFocus(W)})):this.element.addEventListener("keydown",function(W){return H._manageFocus(W)})}},{key:"_manageFocus",value:function(H){if(this._getKeyCode(H)===R.TAB&&this.enabled){var W=Array.from(this.tabbable).indexOf(H.target),q={outside:0>W,wrapForward:W===this.tabbable.length-1&&!H.shiftKey,wrapBackward:0===W&&H.shiftKey};(q.outside||q.wrapForward)&&(H.preventDefault(),this.tabbable[0].focus()),q.wrapBackward&&(H.preventDefault(),this.tabbable[this.tabbable.length-1].focus())}}},{key:"_setEscapeEvent",value:function(){var H=this;this.element.addEventListener(N.KEYDOWN_DISABLE,function(W){H._getKeyCode(W)===R.ESCAPE&&H.disable()})}}],[{key:"_jQueryInterface",value:function(H){return this.each(function(){var W=jQuery(this).data(L),q="object"===("undefined"==typeof H?"undefined":D(H))?H:null;if((W||!/disable/.test(H))&&(W||(W=new U(this,q),jQuery(this).data(L,W)),"string"==typeof H)){if(void 0===W[H])throw new Error("No method named \""+H+"\"");W[H]()}})}},{key:"trapAll",value:function(H,W){var q=z(H),Y="object"===("undefined"==typeof W?"undefined":D(W))?W:{};Array.from(q).forEach(function(G){Y.element=G,new U(Y)})}},{key:"NAME",get:function(){return O}},{key:"VERSION",get:function(){return"1.2.6"}},{key:"DATA_KEY",get:function(){return L}},{key:"KEYCODE",get:function(){return R}},{key:"Default",get:function(){return P}},{key:"DefaultType",get:function(){return M}},{key:"Event",get:function(){return N}},{key:"jQueryAvailable",get:function(){return Z}}]),U}();Z&&function(){var U=jQuery.fn[O];jQuery.fn[O]=K._jQueryInterface,jQuery.fn[O].Constructor=K,jQuery.fn[O].noConflict=function(){return jQuery.fn[O]=U,K._jQueryInterface}}(),A.default=K},{}],4:[function(_,C,A){"use strict";function S(Y){return Y&&Y.__esModule?Y:{default:Y}}function T(Y,G){if(!(Y instanceof G))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(A,"__esModule",{value:!0});var D=function(){function Y(G,j){for(var X,V=0;V<j.length;V++)X=j[V],X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}return function(G,j,V){return j&&Y(G.prototype,j),V&&Y(G,V),G}}(),O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},F=_("photoswipe"),L=S(F),R=_("../default-ui/photoswipe-ui-default.js"),P=S(R),M=_("tabtrap"),N=S(M),Z="photoswiper",K="photoswiper",U={bemRoot:null,el:null,onInit:null,photoswipeUI:P.default,structure:{PSWP:".pswp",GALLERY:"figure",TITLE:"figcaption",FIGURE:"figure",LINK:"a",THUMB:"img",CAPTION:"figcaption"}},B=function Y(G,j){var V={};switch("undefined"==typeof G?"undefined":O(G)){case"string":V.elements=document.querySelectorAll(G);break;case"object":if(NodeList.prototype.isPrototypeOf(G))V.elements=G;else if(1===G.nodeType){G.setAttribute("nodeListCoercion");var X=document.querySelectorAll("[nodeListCoercion]");G.removeAttribute("nodeListCoercion"),V.elements=X}else void 0===j&&(V.elements=Y(G.el).elements,V.config=G);break;default:throw new Error("Initialize with .init(selector, config)");}return"object"===("undefined"==typeof j?"undefined":O(j))&&void 0===V.config&&(V.config=j),V},H=function(G){var j=G.querySelectorAll("a");if(0<j.length){var V=!0,X=!1,Q;try{for(var J,ee,$=j[Symbol.iterator]();!(V=(J=$.next()).done);V=!0)if(ee=J.value,1===ee.querySelectorAll("img").length)return!0}catch(te){X=!0,Q=te}finally{try{!V&&$.return&&$.return()}finally{if(X)throw Q}}}return!1},W=function(){function Y(G,j){if(T(this,Y),this.element=G,this.config=this._getConfig(j),this.structure=this._getStructure(),this.pswpOptions=this._getPswpOptions(),G&&H(G)){this.enabled=!0;var V=window.location.hash.substring(1),X=this._parseHash(V);X.pid&&X.gid&&this._openPhotoSwipe(X.pid,this.element,!0),this._initListeners()}else console.warn("Gallery figures must contain an anchor > image pair (a[href|data-href]>img[src]).\n",G)}return D(Y,[{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"toggle",value:function(){this.enabled=!this.enabled}},{key:"_getConfig",value:function(j){return Object.assign({},U,j)}},{key:"_getStructure",value:function(){var j=this.config.bemRoot?this._bemSelectors(this.config.bemRoot):{};return Object.assign({},this.config.structure,j)}},{key:"_bemSelectors",value:function(j){return{GALLERY:"."+j,TITLE:"."+j+"__title",FIGURE:"."+j+"__figure",LINK:"."+j+"__link",THUMB:"."+j+"__thumbnail",CAPTION:"."+j+"__caption"}}},{key:"_parseHash",value:function(j){var V={};if(5>j.length)return V;for(var X=j.split("&"),Q=0;Q<X.length;Q++)if(X[Q]){var $=X[Q].split("=");2>$.length||(V[$[0]]=$[1])}return V.gid&&(V.gid=parseInt(V.gid,10)),V}},{key:"_getPswpOptions",value:function(){var Q,j={},V=!0,X=!1;try{for(var J,ee,$=Object.keys(this.config)[Symbol.iterator]();!(V=(J=$.next()).done);V=!0)ee=J.value,void 0===U[ee]&&(j[ee]=this.config[ee],delete this.config[ee])}catch(te){X=!0,Q=te}finally{try{!V&&$.return&&$.return()}finally{if(X)throw Q}}return j}},{key:"_initListeners",value:function(){var j=this;this.element.addEventListener("click",function(ae){return j._clickEvent(ae)});var $,V=document.querySelectorAll("a[href^=\"#\"],a[data-href^=\"#\"]"),X=!0,Q=!1;try{for(var ee,te,J=V[Symbol.iterator]();!(X=(ee=J.next()).done);X=!0)te=ee.value,te.addEventListener("click",function(ae){return j._clickEvent(ae)})}catch(ae){Q=!0,$=ae}finally{try{!X&&J.return&&J.return()}finally{if(Q)throw $}}}},{key:"_clickEvent",value:function(j){j=j||window.event;var V=j.target||j.srcElement,X=V.getAttribute("href")||V.getAttribute("data-href");if(X){var Q=this._parseHash(X.split("#")[1]);if(Q.pid&&Q.gid)return this._openPhotoSwipe(Q.pid,this.element,!1,V),void(j.preventDefault?j.preventDefault():j.returnValue=!1)}if(this._validClick(V)&&this.enabled){j.preventDefault?j.preventDefault():j.returnValue=!1;var $=V.closest(this.structure.FIGURE)||this.element,J=null;if($===this.element)J=0;else{var ee=this.element.querySelectorAll(this.structure.FIGURE);J=Array.from(ee).indexOf($)}0<=J&&this._openPhotoSwipe(J,this.element,!1,V)}}},{key:"_validClick",value:function(j){var V=j.nodeName.toUpperCase(),X=j.parentElement.nodeName.toUpperCase(),Q=1===j.querySelectorAll("img").length;return"IMG"===V&&"A"===X||"A"===V&&Q}},{key:"_openPhotoSwipe",value:function(j,V,X,Q){if(H(V)){var $=document.querySelector(this.structure.PSWP);if(!$)throw new Error("Make sure to include the .pswp element on your page");if(this.items=this._getItems(V),this.options=this._getOptions(V),this.options.index=parseInt(j,10),X&&(this.options.showAnimationDuration=0,this.options.index=this._urlIndex(j)),!isNaN(this.options.index)){var J=new L.default($,this.config.photoswipeUI,this.items,this.options);this.enabled&&J.init(),this._manageFocus(J,Q,$),"function"==typeof this.config.onInit&&this.config.onInit.call(J,J)}}}},{key:"_getItems",value:function(j){var V=this,X=j.querySelectorAll(this.structure.FIGURE);return 0<X.length?Array.from(X).map(function(Q){return V._getItem(Q)}):[this._getItem(j)]}},{key:"_getItem",value:function(j){var V=j.querySelector(this.structure.LINK),X=j.querySelector(this.structure.THUMB),Q=j.querySelector(this.structure.CAPTION),$=V.getAttribute("data-size").split("x"),J={el:j,h:parseInt($[1],10),w:parseInt($[0],10),src:V.getAttribute("href")||V.getAttribute("data-href")};return X&&(J.alt=X.getAttribute("alt"),J.msrc=X.getAttribute("src")),Q&&0<Q.innerHTML.length&&(J.title=Q.innerHTML),J}},{key:"_getOptions",value:function(j){var V=this,X=this.structure.THUMB;return Object.assign({},this.pswpOptions,{galleryUID:j.getAttribute("data-pswp-uid"),getThumbBoundsFn:function($){var J=V.items[$].el.querySelector(X),ee=window.pageYOffset||document.documentElement.scrollTop,te=J.getBoundingClientRect();return{x:te.left,y:te.top+ee,w:te.width}}})}},{key:"_urlIndex",value:function(j,V,X){if(X){for(var Q=0;Q<V.length;Q++)if(V[Q].pid==j)return Q;}else return parseInt(j,10)-1}},{key:"_manageFocus",value:function(j,V,X){var Q=this;new N.default(X);var $=0;X.addEventListener("keydown",function(J){var ee=J.which||J.keyCode||0;9===ee&&(j.ui.setIdle(!1),clearTimeout($),$=setTimeout(function(){j.ui.setIdle(!0)},j.options.timeToIdle))}),j.listen("close",function(){var J=j.getCurrentIndex(),ee=Q.element.querySelectorAll(Q.structure.FIGURE)[J]||Q.element;Q.element.contains(V)||!V?ee.querySelector(Q.structure.LINK).focus():V.focus()})}}],[{key:"initAll",value:function(j,V){var X=B(j,V);return Array.from(X.elements).filter(function(Q){return H(Q)}).map(function(Q,$){return Q.setAttribute("data-pswp-uid",$+1),new Y(Q,X.config)})}},{key:"_jQueryInterface",value:function(j){var V=0;return this.each(function(){if(H(this)){V++;var X=jQuery(this).data(K),Q="object"===("undefined"==typeof j?"undefined":O(j))?j:{};if(Q.el=this,!X&&/dispose|hide/.test(j))return;if(X||(this.setAttribute("data-pswp-uid",V),X=new Y(this,Q),jQuery(this).data(K,X)),"string"==typeof j){if(void 0===X[j])throw new Error("No method named \"jQuery{config}\"");X[j]()}}})}},{key:"isValidPswp",value:function(j){return H(j)}},{key:"NAME",get:function(){return Z}},{key:"VERSION",get:function(){return"2.0.7"}},{key:"DATA_KEY",get:function(){return K}},{key:"Default",get:function(){return U}}]),Y}();if(window.jQuery!==void 0){var q=jQuery.fn[Z];jQuery.fn[Z]=W._jQueryInterface,jQuery.fn[Z].Constructor=W,jQuery.fn[Z].noConflict=function(){return jQuery.fn[Z]=q,W._jQueryInterface}}A.default=W,C.exports=A["default"]},{"../default-ui/photoswipe-ui-default.js":1,photoswipe:2,tabtrap:3}]},{},[4])(4)});
